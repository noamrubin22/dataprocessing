<!-- source is https://bl.ocks.org/mbostock/4060366 --><!DOCTYPE html>
<html>
<body>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>

var dataset= 
{   
    data: [       
        {"year": 1995, "met": 1886794, "zonder": 2472739},
        {"year": 2000, "met": 2062123, "zonder": 2466666},      
        {"year": 2005, "met": 2110295, "zonder": 2531292},       
        {"year": 2010, "met": 2181514, "zonder": 2535114},     
        {"year": 2011, "met": 2187823, "zonder": 2547727},       
        {"year": 2012, "met": 2192158, "zonder": 2558902},      
        {"year": 2013, "met": 2202863, "zonder": 2564326},       
        {"year": 2014, "met": 2216508, "zonder": 2569868},     
        {"year": 2015, "met": 2224618, "zonder": 2572783},
        ] 
};

// data for 'met' group
met = []; 
for (i = 0; i < dataset.data.length; i++) {
    met.push(dataset.data[i].met);
}

// data for 'zonder' group
zonder = [];
for (i = 0; i < dataset.data.length; i++) {
    zonder.push(dataset.data[i].zonder);
}


var data_circle = [50, 70, 15, 20, 255, 250, 284 ];
d3.select("body").append("p").text("Minder stellen kiezen voor kinderen")
    .style("font-size", "22px")

// width and height
var w = 600;
var h = 300;
var padding = 1; 

// create svg element to place our shapes
var svg = d3.select("body") 
    .append("svg")    
    .attr("width", w)    
    .attr("height", h);

// create rects
svg.selectAll("rect")
   .data(data_circle)
   .enter()
   .append("rect")
   
   // make sure ratio bars/width is optimal
   .attr("x", function(d, i) {
    return i * (w / data_circle.length) 
    })
    
    // let the bars come from down to up
   .attr("y", function(d) {
        return h -d;
   })
   
   // make sure padding is always in porportion with width length dataset
   .attr("width", w / data_circle.length - padding)
   
   // height should show the data value
   .attr("height", function(d) { 
       return d
   })
   
   // add color
   .attr("fill", function(d) {
       return "rgb(0, 0, " + (d * 5) + ")";
   })

 
// create text 
svg.selectAll("text")
    .data(data_circle)
    .enter()
    .append("text")
    .text(function(d) {
        return d;
    })
    .attr("x", function(d, i) {
        return i * (w / data_circle.length) + (w / data_circle.length - padding) /2;
    })
    .attr("y", function(d) {
        return h - d + 12;
    })
    .attr("font-family", "sans-serif")
    .attr("font-size", "11px")
    .attr("fill", "white")
    .attr("text-anchor", "middle");
    
// create rectangles for the met group
// var rectangles = svg.selectAll("rect")
//                     .data(met)
//                     .enter()
//                     .append("rect");
// rectangles.attr("x", 10)
//             .attr("y", function(d,i) {
//                 console.log(d, i);
//                 return i* 80} )
//             .attr("width", function(d) {
//                 return d/ 10000})
//             .attr("height", 50)
//             .style("fill", "orange");

// // creates rectangles for the zonder group            
// var rectangles = svg.selectAll("rect")
//                     .data(met)
//                     .enter()
//                     .append("rect");
// rectangles.attr("x", 10)
//             .attr("y", function(d,i) {
//                 console.log(d, i);
//                 return i* 80} )
//             .attr("width", function(d) {
//                 return d/ 10000})
//             .attr("height", 50)
//             .style("fill", "blue");
            


        
console.log(dataset);
</script>
</body>
</html>
